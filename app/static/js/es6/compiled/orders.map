{"version":3,"file":"orders.js","sources":["/Users/richmondwatkins/Documents/Code/super-takeout2/app/static/js/es6/orders.es6.js"],"names":[],"mappings":"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","sourcesContent":["/* global ajax */\n/* jshint unused: false */\n\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  function init(){\n    $('#order').on('change', '.menu', getDishes);\n    $('#add').click(addMenu);\n    $('#order').on('click', '#delete', removeMenu);\n    $('#order').on('change', 'input', findTotal);\n    $('#order').on('blur', 'input', findTotal);\n  }\n\n  function findTotal(){\n    var items = $('.menu-item').toArray();     // .data().cost;\n    var total = 0;\n    var totalCals = 0;\n\n     items.forEach(item=>{\n       var cost = $(item).find('.dish').find(':selected').attr('data-cost') * 1;\n       var qty = $(item).children(':first').val();\n\n       var cals = $(item).find('.dish').find(':selected').attr('data-calories') * 1;\n\n       if(qty < 0){\n         return qty === 0;\n       }\n       if(!isNaN(cost)){\n\n         total += cost * qty;\n         totalCals += cals * qty;\n\n       }\n\n   });\n   $('.total').val(total);\n   $('.cals').val(totalCals);\n\n   $('#total').text('$' + total);\n   $('#calories').text('Calories:' + totalCals);\n  }\n\n\n\n  function removeMenu(e){\n    var menus = $('.menu-item');\n    if(menus.length > 1){\n    $(this).closest('.menu-item').remove();\n    e.preventDefault();\n      findTotal();\n    }\n    e.preventDefault();\n  }\n\n  function getDishes(){\n      var menu = $(this).val();  //represents the .menu select box\n      var next = $(this).next();\n      ajax( `/dishes/${menu}`, 'get', null, h=>{\n        next.empty().append(h);\n        findTotal();\n      });\n  }\n\n  function addMenu(){   //does the same thing as the commented out code below..code below uses a html partrition\n  var no =  $('.menu-item:last-child').clone();\n  $('#order').append(no);\n  findTotal();\n  }\n\n// function addMenu(){\n//   ajax(`/orders/addmenu`, 'get', null, h=>{\n//     $('#order').append(h);\n//   });\n// }\n\n\n\n\n})();\n"]}